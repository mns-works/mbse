---
title: 7.8 枚举
slug: 7.8_enumerations
draft: true
---

### 7.8.1 枚举概述

枚举定义是一种属性定义，其实例被限制为特定的一组`枚举值（enumerated value)`。 
枚举使用是一种属性使用，其定义是一个枚举定义。

枚举使用被限制为只能是其定义中所指定的一组枚举值。
由于枚举定义是一种属性定义，它也可以用来定义普通的属性使用。
尽管这样的属性使用在语法上不是一个枚举使用，
但是在语义上仍然受枚举定义的约束，只能取所定义的值。

枚举定义可以特化本身不是枚举定义的属性定义。
这种情况下，枚举定义的枚举值是被特化的属性定义的属性值的一个子集。
TODO:

例如，枚举定义`DiameterChoices`可以特化属性定义`LengthValue`。 
`DiameterChoices`可能包含这些值：60mm、80mm和100mm。 
属性使用`cylinderDiameter`可以被`DiameterChoices`所定义，其值可以是三个枚举值中的一个。

枚举定义可以不包含出枚举值以外的任何东西。
然而，如果枚举定义特化的是一个具有内嵌使用的属性定义，
那么这些内嵌的使用会被继承，并可能绑定到某个特定的枚举值上。

枚举定义不能特化另一个枚举定义。
因为特化的语义要求被一个定义所分类的实例集合，应该是该定义所特化的任一定义所分类的实例集合的子集。
但是枚举定义中定义的枚举值，会对它所特化的枚举定义所允许的枚举值集合中*添加*新的值，
而这和特化的语义是不符的。

### 7.8.2 枚举定义和使用

枚举定义使用关键字`enum`来声明，其限制见下所述。
作为一种属性定义，枚举定义一般用来对其他的属性定义或者KerML中的数据类型进行子分类。
然而，枚举定义不能对另一个枚举定义进行子分类。
枚举使用通过关键字`enum`来声明。

在枚举定义的内容体中声明的任一拥有的成员必须是枚举使用，
这些枚举使用是该定义的*枚举值*。 
枚举定义总是可以认为是一个可变体，而其枚举值就是它的其中一个变体。
关键字`abstract`和`variation`不能用在枚举定义上。
如果一个枚举使用用作枚举定义中的枚举值，那么其声明中不能包括关键字`variant`， 
也不能包括其他的属性关键字（例如，任意的方向关键字、`abstract`、`derived`等）。 

由于内容体中只能声明枚举使用，枚举值的声明可以省略`enum`关键字。 
作为枚举值的枚举使用可以认为隐式地被拥有它的枚举定义所定义，
因此，不能有任何其他显式声明的定义。

```sysml 
    enum def ConditionColor { red; green; yellow; }
    attribute def ConditionLevel {
        attribute color : ConditionColor;
    }
    enum def RiskLevel :> ConditionLevel {
        enum low { color = ConditionColor::green; }
        enum medium { color = ConditionColor::yellow; }
        enum high { color = ConditionColor::red; }
    }
```

和一般的属性使用相比，在枚举定义的内容体之外定义的枚举使用没有特别的限制，
除了枚举使用必须显式地指定为有单个枚举定义所定义。
作为一种属性使用，枚举使用也总是引用的，而不论其声明中是否有关键字`ref`，
其所有的内嵌使用也必须是引用的。

```sysml
enum assessedRisk : RiskLevel {
    // 添加了额外的属性。所有的attribute都是引用的，
    // 因此这是合法的。
    attribute assessment : String;
}
```